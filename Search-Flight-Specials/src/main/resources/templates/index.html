<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>航空券検索</title>
<th:block th:replace="~{fragments/header :: layout}"></th:block>
<script type="text/javascript" th:src="@{/js/amadeusToken.js}"></script>
</head>
<body class="bg-secondary-subtle">
	<div class="container py-5">
		<th:block th:replace="~{fragments/layout :: header(loginPage=false)}"></th:block>

		<div class="card shadow-sm">
			<div class="card-body">
				<h2 class="card-title text-center mb-4">格安航空券を簡単に比較＆予約</h2>

				<form id="flight-search-form">
					<div class="mb-3">
						<div class="btn-group w-100" role="group">
							<input type="radio" class="btn-check" name="ticketOption"
								id="oneWay" value="1" checked> <label
								class="btn btn-outline-secondary" for="oneWay">片道</label> <input
								type="radio" class="btn-check" name="ticketOption"
								id="roundTrip" value="2"> <label
								class="btn btn-outline-secondary" for="roundTrip">往復</label>
						</div>
					</div>

					<div class="row g-3">
						<div class="col-lg-4">
							<label for="origin" class="form-label">出発:</label> <input
								type="text" class="form-control" id="origin" name="origin"
								autocomplete="off" required>
							<div id="originSearchResults"
								class="mt-2 position-absolute w-100 bg-white shadow-sm"
								style="z-index: 1000;"></div>
						</div>

						<div class="col-lg-4">
							<label for="destination" class="form-label">到着:</label> <input
								type="text" class="form-control" id="destination"
								name="destination" autocomplete="off" required>
							<div id="destinationSearchResults"
								class="mt-2 position-absolute w-100 bg-white shadow-sm"
								style="z-index: 1000;"></div>
						</div>

						<div class="col-lg-4">
							<div class="row g-3">
								<div class="col-12 col-lg-6">
									<label for="departureDatePicker" class="form-label">出発日:</label>
									<div class="input-group" id="departureDatePicker"
										data-td-target-input="nearest" data-td-target-toggle="nearest">
										<input type="text" class="form-control" id="departureDate"
											name="departureDate" data-td-target="#departureDatePicker"
											autocomplete="off" readonly required> <span
											class="input-group-text"
											data-td-target="#departureDatePicker"
											data-td-toggle="datetimepicker"> <i
											class="fas fa-calendar"></i>
										</span>
									</div>
								</div>

								<div class="col-12 col-lg-6 d-none" id="returnDateContainer">
									<label for="returnDatePicker" class="form-label">帰国日:</label>
									<div class="input-group" id="returnDatePicker"
										data-td-target-input="nearest" data-td-target-toggle="nearest">
										<input type="text" class="form-control" id="arrivalDate"
											name="arrivalDate" data-td-target="#returnDatePicker"
											autocomplete="off" readonly> <span
											class="input-group-text" data-td-target="#returnDatePicker"
											data-td-toggle="datetimepicker"> <i
											class="fas fa-calendar"></i>
										</span>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="text-center mt-4">
						<button type="submit" class="btn btn-secondary btn-lg"
							id="searchButton">検索</button>
						<div class="spinner-border text-secondary d-none" role="status"
							id="loadingSpinner">
							<span class="visually-hidden">Loading...</span>
						</div>
					</div>
				</form>
			</div>
		</div>

		<th:block th:replace="~{fragments/layout :: footer}"></th:block>
	</div>
</body>
<script type="text/javascript" th:src="@{/js/searchFlight.js}"></script>
</html>